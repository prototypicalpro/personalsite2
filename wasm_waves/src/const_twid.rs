use num_complex::Complex32;

pub const TWIDDLE_LOOKUP: [Complex32; 128] = [
    Complex32::new(1.00000000000000000000000000000000, 0.00000000000000000000000000000000),
    Complex32::new(0.99969881869620424996725205346593, 0.02454122852291228812360301958506),
    Complex32::new(0.99879545620517240500646494183457, 0.04906767432741801493456534899451),
    Complex32::new(0.99729045667869020697082760307239, 0.07356456359966742630795977220259),
    Complex32::new(0.99518472667219692873175063141389, 0.09801714032956060362877792613290),
    Complex32::new(0.99247953459870996706371215623221, 0.12241067519921619566325432515441),
    Complex32::new(0.98917650996478101443898367506335, 0.14673047445536174793190298260015),
    Complex32::new(0.98527764238894122161838140527834, 0.17096188876030121717164433903235),
    Complex32::new(0.98078528040323043057924223830923, 0.19509032201612824808378832130984),
    Complex32::new(0.97570213003852857003295184767921, 0.21910124015686979759287567048887),
    Complex32::new(0.97003125319454397423868385885726, 0.24298017990326387094413007616822),
    Complex32::new(0.96377606579543984022251379428781, 0.26671275747489836538406393628975),
    Complex32::new(0.95694033573220882438192802510457, 0.29028467725446233105301985233382),
    Complex32::new(0.94952818059303667475035126699368, 0.31368174039889151760718277728301),
    Complex32::new(0.94154406518302080630888895029784, 0.33688985339222005110926261295390),
    Complex32::new(0.93299279883473895669254716267460, 0.35989503653498811086564046490821),
    Complex32::new(0.92387953251128673848313610506011, 0.38268343236508978177923268049199),
    Complex32::new(0.91420975570353069095119735720800, 0.40524131400498986099734111121506),
    Complex32::new(0.90398929312344333819595476597897, 0.42755509343028208490977704059333),
    Complex32::new(0.89322430119551532445854036268429, 0.44961132965460653965195092496288),
    Complex32::new(0.88192126434835504955600526955095, 0.47139673682599764203970948983624),
    Complex32::new(0.87008699110871146054080327303382, 0.49289819222978403789880985641503),
    Complex32::new(0.85772861000027211808571792062139, 0.51410274419322166128409890006878),
    Complex32::new(0.84485356524970711689093150198460, 0.53499761988709715332390715047950),
    Complex32::new(0.83146961230254523567140267914510, 0.55557023301960217764872140833177),
    Complex32::new(0.81758481315158371138807069655741, 0.57580819141784533865546791275847),
    Complex32::new(0.80320753148064494286728631777805, 0.59569930449243335690567846540944),
    Complex32::new(0.78834642762660633863447401381563, 0.61523159058062681925349579614704),
    Complex32::new(0.77301045336273699337681364340824, 0.63439328416364548779426968394546),
    Complex32::new(0.75720884650648456748456283094129, 0.65317284295377675551463880765368),
    Complex32::new(0.74095112535495921690653631230816, 0.67155895484701833009211213720846),
    Complex32::new(0.72424708295146700276490037140320, 0.68954054473706682948375146224862),
    Complex32::new(0.70710678118654757273731092936941, 0.70710678118654746171500846685376),
    Complex32::new(0.68954054473706694050605392476427, 0.72424708295146689174259790888755),
    Complex32::new(0.67155895484701844111441459972411, 0.74095112535495910588423384979251),
    Complex32::new(0.65317284295377686653694127016934, 0.75720884650648456748456283094129),
    Complex32::new(0.63439328416364548779426968394546, 0.77301045336273688235451118089259),
    Complex32::new(0.61523159058062681925349579614704, 0.78834642762660622761217155129998),
    Complex32::new(0.59569930449243346792798092792509, 0.80320753148064483184498385526240),
    Complex32::new(0.57580819141784533865546791275847, 0.81758481315158371138807069655741),
    Complex32::new(0.55557023301960228867102387084742, 0.83146961230254523567140267914510),
    Complex32::new(0.53499761988709726434620961299515, 0.84485356524970700586862903946894),
    Complex32::new(0.51410274419322166128409890006878, 0.85772861000027211808571792062139),
    Complex32::new(0.49289819222978409340996108767285, 0.87008699110871134951850081051816),
    Complex32::new(0.47139673682599780857316318360972, 0.88192126434835493853370280703530),
    Complex32::new(0.44961132965460659516310215622070, 0.89322430119551532445854036268429),
    Complex32::new(0.42755509343028219593207950310898, 0.90398929312344333819595476597897),
    Complex32::new(0.40524131400498986099734111121506, 0.91420975570353069095119735720800),
    Complex32::new(0.38268343236508983729038391174981, 0.92387953251128673848313610506011),
    Complex32::new(0.35989503653498827739909415868169, 0.93299279883473884567024470015895),
    Complex32::new(0.33688985339222005110926261295390, 0.94154406518302080630888895029784),
    Complex32::new(0.31368174039889157311833400854084, 0.94952818059303667475035126699368),
    Complex32::new(0.29028467725446233105301985233382, 0.95694033573220893540423048762023),
    Complex32::new(0.26671275747489842089521516754758, 0.96377606579543984022251379428781),
    Complex32::new(0.24298017990326398196643253868388, 0.97003125319454397423868385885726),
    Complex32::new(0.21910124015686976983730005485995, 0.97570213003852857003295184767921),
    Complex32::new(0.19509032201612833135051516819658, 0.98078528040323043057924223830923),
    Complex32::new(0.17096188876030135594952241717692, 0.98527764238894122161838140527834),
    Complex32::new(0.14673047445536174793190298260015, 0.98917650996478101443898367506335),
    Complex32::new(0.12241067519921627892998117204115, 0.99247953459870996706371215623221),
    Complex32::new(0.09801714032956077016223161990638, 0.99518472667219681770944816889823),
    Complex32::new(0.07356456359966745406353538783151, 0.99729045667869020697082760307239),
    Complex32::new(0.04906767432741812595686781151016, 0.99879545620517240500646494183457),
    Complex32::new(0.02454122852291226383747435590976, 0.99969881869620424996725205346593),
    Complex32::new(0.00000000000000000000000000000000, 1.00000000000000000000000000000000),
    Complex32::new(-0.02454122852291214240683103753327, 0.99969881869620424996725205346593),
    Complex32::new(-0.04906767432741800799567144508728, 0.99879545620517240500646494183457),
    Complex32::new(-0.07356456359966732916344511750140, 0.99729045667869020697082760307239),
    Complex32::new(-0.09801714032956064526214134957627, 0.99518472667219692873175063141389),
    Complex32::new(-0.12241067519921615402989090171104, 0.99247953459870996706371215623221),
    Complex32::new(-0.14673047445536163690960052008450, 0.98917650996478101443898367506335),
    Complex32::new(-0.17096188876030124492721995466127, 0.98527764238894122161838140527834),
    Complex32::new(-0.19509032201612819257263709005201, 0.98078528040323043057924223830923),
    Complex32::new(-0.21910124015686965881499759234430, 0.97570213003852857003295184767921),
    Complex32::new(-0.24298017990326387094413007616822, 0.97003125319454397423868385885726),
    Complex32::new(-0.26671275747489830987291270503192, 0.96377606579543984022251379428781),
    Complex32::new(-0.29028467725446216451956615856034, 0.95694033573220893540423048762023),
    Complex32::new(-0.31368174039889140658488031476736, 0.94952818059303667475035126699368),
    Complex32::new(-0.33688985339221994008696015043824, 0.94154406518302080630888895029784),
    Complex32::new(-0.35989503653498816637679169616604, 0.93299279883473884567024470015895),
    Complex32::new(-0.38268343236508972626808144923416, 0.92387953251128673848313610506011),
    Complex32::new(-0.40524131400498974997503864869941, 0.91420975570353069095119735720800),
    Complex32::new(-0.42755509343028186286517211556202, 0.90398929312344344921825722849462),
    Complex32::new(-0.44961132965460670618540461873636, 0.89322430119551521343623790016863),
    Complex32::new(-0.47139673682599769755086072109407, 0.88192126434835504955600526955095),
    Complex32::new(-0.49289819222978398238765862515720, 0.87008699110871146054080327303382),
    Complex32::new(-0.51410274419322155026179643755313, 0.85772861000027211808571792062139),
    Complex32::new(-0.53499761988709704230160468796385, 0.84485356524970722791323396450025),
    Complex32::new(-0.55557023301960195560411648330046, 0.83146961230254534669370514166076),
    Complex32::new(-0.57580819141784533865546791275847, 0.81758481315158371138807069655741),
    Complex32::new(-0.59569930449243335690567846540944, 0.80320753148064494286728631777805),
    Complex32::new(-0.61523159058062670823119333363138, 0.78834642762660633863447401381563),
    Complex32::new(-0.63439328416364537677196722142980, 0.77301045336273710439911610592389),
    Complex32::new(-0.65317284295377653347003388262237, 0.75720884650648467850686529345694),
    Complex32::new(-0.67155895484701844111441459972411, 0.74095112535495899486193138727685),
    Complex32::new(-0.68954054473706694050605392476427, 0.72424708295146689174259790888755),
    Complex32::new(-0.70710678118654746171500846685376, 0.70710678118654757273731092936941),
    Complex32::new(-0.72424708295146678072029544637189, 0.68954054473706705152835638727993),
    Complex32::new(-0.74095112535495888383962892476120, 0.67155895484701855213671706223977),
    Complex32::new(-0.75720884650648467850686529345694, 0.65317284295377664449233634513803),
    Complex32::new(-0.77301045336273699337681364340824, 0.63439328416364548779426968394546),
    Complex32::new(-0.78834642762660622761217155129998, 0.61523159058062693027579825866269),
    Complex32::new(-0.80320753148064483184498385526240, 0.59569930449243346792798092792509),
    Complex32::new(-0.81758481315158360036576823404175, 0.57580819141784544967777037527412),
    Complex32::new(-0.83146961230254534669370514166076, 0.55557023301960217764872140833177),
    Complex32::new(-0.84485356524970711689093150198460, 0.53499761988709715332390715047950),
    Complex32::new(-0.85772861000027200706341545810574, 0.51410274419322177230640136258444),
    Complex32::new(-0.87008699110871134951850081051816, 0.49289819222978414892111231893068),
    Complex32::new(-0.88192126434835493853370280703530, 0.47139673682599786408431441486755),
    Complex32::new(-0.89322430119551521343623790016863, 0.44961132965460687271885831250984),
    Complex32::new(-0.90398929312344333819595476597897, 0.42755509343028202939862580933550),
    Complex32::new(-0.91420975570353069095119735720800, 0.40524131400498991650849234247289),
    Complex32::new(-0.92387953251128673848313610506011, 0.38268343236508989280153514300764),
    Complex32::new(-0.93299279883473884567024470015895, 0.35989503653498833291024538993952),
    Complex32::new(-0.94154406518302069528658648778219, 0.33688985339222032866501876924303),
    Complex32::new(-0.94952818059303667475035126699368, 0.31368174039889140658488031476736),
    Complex32::new(-0.95694033573220882438192802510457, 0.29028467725446238656417108359165),
    Complex32::new(-0.96377606579543984022251379428781, 0.26671275747489847640636639880540),
    Complex32::new(-0.97003125319454397423868385885726, 0.24298017990326406523315938557062),
    Complex32::new(-0.97570213003852845901064938516356, 0.21910124015687004739305621114909),
    Complex32::new(-0.98078528040323043057924223830923, 0.19509032201612860890627132448572),
    Complex32::new(-0.98527764238894122161838140527834, 0.17096188876030121717164433903235),
    Complex32::new(-0.98917650996478101443898367506335, 0.14673047445536180344305421385798),
    Complex32::new(-0.99247953459870996706371215623221, 0.12241067519921634831892021111344),
    Complex32::new(-0.99518472667219681770944816889823, 0.09801714032956082567338285116421),
    Complex32::new(-0.99729045667869020697082760307239, 0.07356456359966773161929154412064),
    Complex32::new(-0.99879545620517240500646494183457, 0.04906767432741796636230802164391),
    Complex32::new(-0.99969881869620424996725205346593, 0.02454122852291232628751949107482)
];

pub fn lookup_twiddle(idx: usize, half_n: usize) -> Complex32 {
    // lookup and return the vector
    let step = TWIDDLE_LOOKUP.len() / half_n;
    TWIDDLE_LOOKUP[idx * step]
}

/*
 str = new Array(256).fill(0).map((_, i) => [Math.cos(i / 256 * Math.PI), Math.sin(i / 256 * Math.PI)]).map(([a, b]) => `(${a.toFixed(32)}, ${b.toFixed(32)})`).join(',\n')
*/
